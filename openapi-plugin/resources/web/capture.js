import { j as t, c as K, d as q, s as _, M as Q, i as X, p as Y, a as Z, x as ee, r as te, t as se, l as ie, u as ne, b as re, T as a, e as l, B as A, g as oe, R as ae, P as le, h as de, a0 as ce, k as pe } from "./TriangleExclamation.BpqlFGl9.js";
import { s as E, g as ue, M as O, a as T, b as he, I as $, S as ge, G as me } from "./GeneralError.XlUbhePL.js";
import { s as fe } from "./listener.Dzash3X1.js";
import { o as xe, c as ve } from "./listener.CdSWsSat.js";
import { s as je } from "./rtk-query-react.modern.DNwSxbDe.js";
import { l as we, c as ye } from "./slice.DwBUGlQH.js";
import { f as F, u as be, g as Ce } from "./freemiumd-api.CSI1UUnY.js";
import { S as R } from "./TrashCan.tMjt3t-E.js";
import { a as Se } from "./SearchSidebar.B3jQN6uR.js";
import { u as Ie } from "./index.esm.BK0U62pm.js";
import { o as Fe, s as k, F as Pe } from "./types.Bh3_WBou.js";
import { E as Ae, B as $e } from "./Banner.B4d2g7Mo.js";
const ke = (e) => /* @__PURE__ */ t.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 512", width: "1em", height: "1em", ...e, children: /* @__PURE__ */ t.jsx("path", { d: "M18.8 232c8.2 0 15.1-6.2 16.5-14.3 5.7-33.3 18.8-64.1 37.5-90.7 4.7-6.7 4.3-16-1.5-21.8-6.7-6.7-17.8-6.2-23.3 1.5-22.5 31.4-38.2 68-44.6 107.7-1.6 9.4 5.9 17.6 15.4 17.6M127 72.8c26.5-18.7 57.3-31.8 90.6-37.6 8.2-1.3 14.4-8.2 14.4-16.4 0-9.5-8.2-17-17.5-15.4-39.8 6.4-76.4 22.1-107.8 44.6-7.7 5.5-8.2 16.6-1.5 23.3 5.8 5.8 15.1 6.3 21.8 1.5m153 420.4c0 9.5 8.2 17 17.5 15.4 39.7-6.5 76.4-22.1 107.7-44.6 7.7-5.5 8.2-16.6 1.5-23.3-5.8-5.8-15.1-6.3-21.8-1.5-26.5 18.7-57.3 31.8-90.6 37.6-8.1 1.4-14.3 8.2-14.3 16.5zM439.2 385c-4.7 6.7-4.3 16 1.5 21.8 6.7 6.7 17.8 6.2 23.3-1.5 22.5-31.4 38.2-68 44.6-107.7 1.5-9.4-5.9-17.5-15.4-17.5-8.2 0-15.1 6.2-16.5 14.3-5.7 33.3-18.8 64.1-37.6 90.6zm-334 55.7c-6.7 6.7-6.2 17.8 1.5 23.3 31.4 22.5 68 38.2 107.7 44.6 9.4 1.5 17.5-5.9 17.5-15.4 0-8.2-6.2-15.1-14.3-16.5-33.3-5.7-64.1-18.8-90.6-37.6-6.7-4.7-16-4.3-21.8 1.5zM48 405.3c5.5 7.7 16.6 8.2 23.3 1.5 5.8-5.8 6.3-15.1 1.5-21.8-18.7-26.6-31.8-57.4-37.5-90.7-1.4-8.1-8.3-14.3-16.5-14.3-9.5 0-17 8.2-15.4 17.5 6.4 39.8 22.1 76.4 44.6 107.8m358.8-334c6.7-6.7 6.2-17.8-1.5-23.3-31.4-22.5-68-38.2-107.7-44.6-9.4-1.6-17.6 5.9-17.6 15.4 0 8.2 6.2 15.1 14.3 16.5 33.3 5.7 64.1 18.8 90.7 37.5 6.7 4.7 16 4.3 21.8-1.5m32.4 55.7c18.7 26.5 31.8 57.3 37.6 90.6 1.4 8.1 8.2 14.3 16.5 14.3 9.5 0 17-8.2 15.4-17.5-6.5-39.7-22.1-76.4-44.6-107.7-5.5-7.7-16.6-8.2-23.3-1.5-5.8 5.8-6.3 15.1-1.5 21.8z" }) }), Me = (e) => /* @__PURE__ */ t.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 512", width: "1em", height: "1em", ...e, children: /* @__PURE__ */ t.jsx("path", { d: "M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0m0 480C132.5 480 32 379.5 32 256S132.5 32 256 32s224 100.5 224 224-100.5 224-224 224m0-176c8.844 0 16-7.156 16-16V128c0-8.844-7.156-16-16-16s-16 7.2-16 16v160c0 8.8 7.2 16 16 16m0 40c-13.25 0-24 10.75-24 24s10.75 24 24 24 24-10.75 24-24-10.7-24-24-24" }) }), Le = (e) => /* @__PURE__ */ t.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 512", width: "1em", height: "1em", ...e, children: /* @__PURE__ */ t.jsx("path", { d: "M207.4 20.4c2.4 8.5-2.6 17.3-11.2 19.7C101.5 66.2 32 153 32 256c0 123.7 100.3 224 224 224s224-100.3 224-224c0-103-69.5-189.8-164.3-215.9-8.5-2.4-13.5-11.2-11.2-19.7s11.2-13.5 19.7-11.2C432.5 39.1 512 138.2 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 138.2 79.5 39.1 187.7 9.2c8.5-2.4 17.3 2.6 19.7 11.2" }) }), De = (e) => /* @__PURE__ */ t.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 640 512", width: "1em", height: "1em", ...e, children: /* @__PURE__ */ t.jsx("path", { d: "M354.9 121.7c13.8 16 36.5 21.1 55.9 12.5 8.9-3.9 18.7-6.2 29.2-6.2 39.8 0 72 32.2 72 72q0 6-.9 11.7c-3.5 21.6 8.1 42.9 28.1 51.7C570.4 276.9 592 308 592 344c0 46.8-36.6 85.2-82.8 87.8-.6 0-1.3.1-1.9.2H144c-53 0-96-43-96-96 0-41.7 26.6-77.3 64-90.5 19.2-6.8 32-24.9 32-45.3v-.2c0-66.3 53.7-120 120-120 36.3 0 68.8 16.1 90.9 41.7M512 480v-.2c71.4-4.1 128-63.3 128-135.8 0-55.7-33.5-103.7-81.5-124.7 1-6.3 1.5-12.8 1.5-19.3 0-66.3-53.7-120-120-120-17.4 0-33.8 3.7-48.7 10.3C360.4 54.6 314.9 32 264 32c-92.8 0-168 75.2-168 168v.2C40.1 220 0 273.3 0 336c0 79.5 64.5 144 144 144h368M223 313l80 80c9.4 9.4 24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-39 39V184c0-13.3-10.7-24-24-24s-24 10.7-24 24v134.1l-39-39c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9z" }) }), Be = (e) => /* @__PURE__ */ t.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 384 512", width: "1em", height: "1em", ...e, children: /* @__PURE__ */ t.jsx("path", { d: "M320 480H64c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32h128v112c0 26.5 21.5 48 48 48h112v256c0 17.7-14.3 32-32 32m-80-320c-8.8 0-16-7.2-16-16V32.5c2.8.7 5.4 2.1 7.4 4.2l115.9 115.9c2.1 2.1 3.5 4.6 4.2 7.4zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V163.9c0-12.7-5.1-24.9-14.1-33.9L254.1 14.1c-9-9-21.2-14.1-33.9-14.1zm91.3 299.3c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0l-48 48c-6.2 6.2-6.2 16.4 0 22.6l48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L118.6 336zm144 25.4-48-48c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l36.7 36.7-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l48-48c6.2-6.2 6.2-16.4 0-22.6" }) }), P = (e) => /* @__PURE__ */ t.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 512", width: "1em", height: "1em", ...e, children: /* @__PURE__ */ t.jsx("path", { d: "M448 464H192c-8.8 0-16-7.2-16-16v-80h-48v80c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C390.7 6.7 374.5 0 357.5 0H192c-35.3 0-64 28.7-64 64v192h48V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16M297 215c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h278.1l-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80z" }) }), Ee = {
  items: [],
  selectedId: void 0,
  token: void 0
}, z = K({
  name: "capture",
  initialState: Ee,
  reducers: {
    showCaptureWindow: (e, s) => {
      e.items = s.payload.items, e.selectedId = s.payload.items.length > 0 ? s.payload.items[0].id : void 0;
    },
    setCaptureToken: (e, s) => {
      e.token = s.payload;
    },
    setSelectedItemId: (e, s) => {
      e.selectedId = s.payload;
    },
    selectFiles: (e, s) => {
    },
    convert: (e, s) => {
      const n = s.payload.id, i = e.items.filter((r) => r.id === n)[0];
      i.status = "running", i.log = [], i.downloadedFile = void 0;
    },
    saveCapture: (e, s) => {
      const n = e.items.findIndex((i) => i.id === s.payload.id);
      s.payload.files.sort(), n !== -1 ? e.items[n] = s.payload : (e.items.unshift(s.payload), e.selectedId = s.payload.id);
    },
    saveCaptureSettings: (e, s) => {
      const { id: n, settings: i } = s.payload, r = e.items.findIndex((o) => o.id === n);
      r !== -1 && (e.items[r].prepareOptions = i.prepareOptions);
    },
    downloadFile: (e, s) => {
    },
    deleteJob: (e, { payload: { id: s } }) => {
      e.items = e.items.filter((n) => n.id !== s), e.selectedId = e.items[0]?.id;
    },
    deleteFile: (e, s) => {
      const { id: n, file: i } = s.payload, r = e.items.find((o) => o.id === n);
      r && (r.files = r.files.filter((o) => o !== i));
    },
    openLink: (e, s) => {
    }
  }
}), {
  showCaptureWindow: H,
  selectFiles: b,
  saveCaptureSettings: U,
  convert: V,
  saveCapture: Oe,
  downloadFile: G,
  deleteJob: W,
  deleteFile: J,
  openLink: y,
  setSelectedItemId: Te,
  setCaptureToken: Re
} = z.actions, ze = z.reducer, N = q(), p = N.startListening;
function He(e, s) {
  const n = () => p({
    actionCreator: H,
    effect: async (r, o) => {
      o.dispatch(Q(["main", "capture"]));
    }
  }), i = {
    selectFiles: () => p({
      actionCreator: b,
      effect: async (r, o) => {
        e.postMessage({
          command: "selectFiles",
          payload: r.payload
        });
      }
    }),
    saveCaptureSettings: () => p({
      matcher: X(U, J),
      effect: async (r, o) => {
        const d = r.payload.id, h = o.getState().capture.items.find((c) => c.id === d);
        e.postMessage({
          command: "saveCaptureSettings",
          payload: {
            id: d,
            settings: {
              files: h.files,
              prepareOptions: h.prepareOptions
            }
          }
        });
      }
    }),
    convert: () => p({
      actionCreator: V,
      effect: async (r, o) => {
        e.postMessage({
          command: "convert",
          payload: r.payload
        });
      }
    }),
    downloadFile: () => p({
      actionCreator: G,
      effect: async (r, o) => {
        e.postMessage({
          command: "downloadFile",
          payload: r.payload
        });
      }
    }),
    deleteJob: () => p({
      actionCreator: W,
      effect: async (r, o) => {
        e.postMessage({
          command: "deleteJob",
          payload: r.payload
        });
      }
    }),
    openLink: () => p({
      actionCreator: y,
      effect: async (r, o) => {
        e.postMessage({
          command: "openLink",
          payload: r.payload
        });
      }
    }),
    sendHttpRequest: xe(p, e)
  };
  return fe(p, s), _({ ...i, onShowCaptureWindow: n }), N;
}
const Ue = {
  theme: se,
  capture: ze,
  router: te,
  confirmationDialog: ee,
  config: ye,
  client: ve,
  generalError: ue,
  [F.reducerPath]: F.reducer
}, Ve = {
  changeTheme: Y,
  showCaptureWindow: H,
  setCaptureToken: Re,
  saveCapture: Oe,
  loadConfig: we,
  showHttpError: () => null,
  showHttpResponse: () => null,
  showGeneralError: E
}, Ge = (e, s) => {
  const n = Z({
    reducer: Ue,
    middleware: (i) => i().prepend(e.middleware).concat(ie, F.middleware),
    preloadedState: {
      theme: s
    }
  });
  return je(n.dispatch), n;
}, f = () => ne(), m = re;
function We() {
  const e = f(), { selectedId: s, items: n } = m((r) => r.capture), i = n.find((r) => r.id === s);
  return i ? /* @__PURE__ */ t.jsx(
    Pe,
    {
      wrapFormData: Ne,
      unwrapFormData: Ke,
      useFormMode: "onChange",
      data: i.prepareOptions,
      schema: Ye,
      saveData: (r) => {
        e(
          U({
            id: i.id,
            settings: { files: i.files, prepareOptions: r }
          })
        );
      },
      children: /* @__PURE__ */ t.jsx(Je, { item: i })
    }
  ) : /* @__PURE__ */ t.jsx("div", { children: "No job selected" });
}
function Je({ item: e }) {
  const s = f(), {
    formState: { isValid: n }
  } = Ie();
  return /* @__PURE__ */ t.jsxs("div", { children: [
    /* @__PURE__ */ t.jsx(x, { children: "API Contract Generator" }),
    /* @__PURE__ */ t.jsxs("ul", { children: [
      /* @__PURE__ */ t.jsx("li", { children: "Add up to 10 files" }),
      /* @__PURE__ */ t.jsx("li", { children: "Max size of combined files is 250MB" }),
      /* @__PURE__ */ t.jsx("li", { children: "Supports Postman collections and HAR files" })
    ] }),
    /* @__PURE__ */ t.jsx(S, {}),
    /* @__PURE__ */ t.jsx(x, { children: "Selected files" }),
    /* @__PURE__ */ t.jsxs(Qe, { children: [
      e.files && /* @__PURE__ */ t.jsx("div", { children: e.files.map((i, r) => /* @__PURE__ */ t.jsxs(qe, { children: [
        /* @__PURE__ */ t.jsx(Be, {}),
        " ",
        M(i),
        /* @__PURE__ */ t.jsx(O, { children: /* @__PURE__ */ t.jsxs(T, { onSelect: () => s(J({ id: e.id, file: i })), children: [
          /* @__PURE__ */ t.jsx(R, {}),
          "Delete"
        ] }) })
      ] }, `item-${e.id}-file-${r}`)) }),
      (e.status === "pending" || e.status === "failed") && /* @__PURE__ */ t.jsxs(
        C,
        {
          onClick: (i) => {
            s(b({ id: e.id })), i.stopPropagation(), i.preventDefault();
          },
          children: [
            /* @__PURE__ */ t.jsx(P, {}),
            "Add more files"
          ]
        }
      ),
      (e.status === "pending" || e.status === "failed") && e.files.length > 0 && /* @__PURE__ */ t.jsxs(
        C,
        {
          $disabled: !n,
          $primary: !0,
          onClick: (i) => {
            n && s(V({ id: e.id })), i.stopPropagation(), i.preventDefault();
          },
          children: [
            /* @__PURE__ */ t.jsx(he, {}),
            "Generate"
          ]
        }
      ),
      e.status === "finished" && /* @__PURE__ */ t.jsxs(
        C,
        {
          $primary: !0,
          onClick: (i) => {
            s(G({ id: e.id })), i.stopPropagation(), i.preventDefault();
          },
          children: [
            /* @__PURE__ */ t.jsx(De, {}),
            "Save OpenAPI file"
          ]
        }
      )
    ] }),
    /* @__PURE__ */ t.jsx(S, {}),
    /* @__PURE__ */ t.jsx(x, { children: "Options" }),
    /* @__PURE__ */ t.jsxs(_e, { children: [
      /* @__PURE__ */ t.jsx(
        $,
        {
          label: "Base Path",
          name: "basePath",
          description: "The URL prefix for all API paths, relative to the host root"
        }
      ),
      /* @__PURE__ */ t.jsx($, { label: "Servers", name: "servers", description: "A list of servers to use for the API" })
    ] }),
    /* @__PURE__ */ t.jsx(S, {}),
    /* @__PURE__ */ t.jsx(x, { children: "Logs" }),
    /* @__PURE__ */ t.jsxs(Xe, { children: [
      e.log.map((i, r) => /* @__PURE__ */ t.jsx("div", { children: i }, r)),
      e.downloadedFile && /* @__PURE__ */ t.jsxs("div", { children: [
        "OpenAPI file saved to",
        " ",
        /* @__PURE__ */ t.jsx(
          "a",
          {
            href: "#",
            onClick: (i) => {
              i.preventDefault(), i.stopPropagation(), s(y(e.downloadedFile || ""));
            },
            children: M(e.downloadedFile)
          }
        )
      ] }, `item-${e.id}-log-${e.log.length}`)
    ] })
  ] });
}
function Ne(e) {
  return { basePath: e.basePath, servers: e.servers.join(",") };
}
function Ke(e) {
  return { basePath: e.basePath, servers: e.servers.split(",") };
}
const C = l.div`
  display: flex;
  padding: 0 8px;
  gap: 4px;
  align-items: center;
  cursor: pointer;
  font-weight: ${({ $primary: e }) => e ? "600" : "400"};
  color: var(
    ${({ $disabled: e }) => e ? a.disabledForeground : a.linkForeground}
  );
  > svg {
    fill: var(
      ${({ $disabled: e }) => e ? a.disabledForeground : a.linkForeground}
    );
  }
`, qe = l.div`
  display: flex;
  padding: 0 8px;
  gap: 4px;
  align-items: center;
  > svg {
    fill: var(${a.foreground});
  }
  > span:last-child {
    visibility: hidden;
  }
  &:hover > span:last-child {
    visibility: visible;
  }
`, x = l.div`
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 13px;
  font-weight: 600;
  color: var(${a.foreground});
`, _e = l.div`
  margin-top: 16px;
  margin-bottom: 16px;
  display: flex;
  flex-direction: column;
  max-width: 600px;
  gap: 16px;
`, Qe = l.div`
  display: flex;
  flex-direction: row;
  padding-bottom: 8px;
  align-items: start;
`, Xe = l.div`
  font-family: monospace;
  display: flex;
  flex-direction: column;
  gap: 4px;
`, S = l.hr`
  border: none;
  border-top: 1px solid var(${a.border});
`, Ye = Fe({
  basePath: k().min(1).trim(),
  servers: k().min(1).refine(
    (e) => e.split(",").map((s) => s.trim()).filter((s) => s.length > 0).every((s) => s.startsWith("http://") || s.startsWith("https://")),
    {
      message: "Invalid format. Examples: 'https://foo.com, http://bar.org'"
    }
  )
});
function M(e) {
  return decodeURIComponent(e.substring(e.lastIndexOf("/") + 1));
}
function L({ progress: e, label: s }) {
  const n = Math.ceil(e * 100), i = s !== void 0 ? s : `${n}%`;
  return /* @__PURE__ */ t.jsxs(Ze, { children: [
    /* @__PURE__ */ t.jsx(et, { children: i }),
    /* @__PURE__ */ t.jsx(tt, { $progress: e, children: i })
  ] });
}
const Ze = l.div`
  position: relative;
  display: flex;
  height: 26px;
  background-color: var(${a.computedTwo});
  border: 1px solid var(${a.buttonBorder});
  border-radius: 6px;
  overflow: hidden;
`, et = l.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  background-color: var(${a.computedOne});
  color: var(${a.foreground});
  border-radius: 6px;
`, tt = l.div`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(${a.buttonForeground});
  background-color: var(${a.buttonBackground});
  clip-path: inset(0 ${({ $progress: e }) => 100 - e * 100}% 0 0);
  transition: clip-path 0.3s linear;
`;
function st({
  token: e,
  useDevEndpoints: s
}) {
  const { data: n, error: i, isLoading: r } = be(e.trim(), {
    refetchOnFocus: !0,
    pollingInterval: 6e5
    // refresh every 10 minutes
  }), o = f(), d = m((c) => c.config.data.platformAuthType), { upgradeUrl: h } = Ce(s);
  return i ? /* @__PURE__ */ t.jsx(I, { children: /* @__PURE__ */ t.jsxs(Ae, { message: "Failed to load subscription status", children: [
    i.code,
    " ",
    i.message
  ] }) }) : r || n === void 0 ? /* @__PURE__ */ t.jsx(I, { children: /* @__PURE__ */ t.jsx($e, { message: "Loading..." }) }) : /* @__PURE__ */ t.jsxs(I, { children: [
    d === "anond-token" && /* @__PURE__ */ t.jsxs(t.Fragment, { children: [
      /* @__PURE__ */ t.jsxs(v, { children: [
        /* @__PURE__ */ t.jsx(g, { children: "API Contract Generator" }),
        /* @__PURE__ */ t.jsx(j, { children: "Monthly operations left" }),
        /* @__PURE__ */ t.jsxs(w, { children: [
          n.monthlyCapture - n.currentCaptureUsage,
          " / ",
          n.monthlyCapture
        ] }),
        /* @__PURE__ */ t.jsx(L, { label: "", progress: 1 - n.currentCaptureUsage / n.monthlyCapture })
      ] }),
      /* @__PURE__ */ t.jsxs(v, { children: [
        /* @__PURE__ */ t.jsxs(g, { children: [
          "Subscription type: ",
          n?.subscriptionKind
        ] }),
        /* @__PURE__ */ t.jsx(j, { children: "Upgrade or manage your subscription plan" }),
        /* @__PURE__ */ t.jsxs(w, { children: [
          n.subscriptionKind === "free" && /* @__PURE__ */ t.jsx(
            A,
            {
              onClick: (c) => {
                c.preventDefault(), c.stopPropagation(), o(y(`${h}?email=${encodeURIComponent(n.userEmail)}`));
              },
              children: "Upgrade"
            }
          ),
          n.subscriptionKind !== "free" && /* @__PURE__ */ t.jsx(
            A,
            {
              onClick: (c) => {
                c.preventDefault(), c.stopPropagation(), o(
                  y(
                    `${h}?prefilled_email=${encodeURIComponent(n.userEmail)}`
                  )
                );
              },
              children: "Manage"
            }
          )
        ] })
      ] })
    ] }),
    d === "api-token" && /* @__PURE__ */ t.jsxs(t.Fragment, { children: [
      /* @__PURE__ */ t.jsxs(v, { children: [
        /* @__PURE__ */ t.jsx(g, { children: "Tenant Allowance" }),
        /* @__PURE__ */ t.jsx(j, { children: "Monthly operations left" }),
        /* @__PURE__ */ t.jsxs(w, { children: [
          n.monthlyCapture - n.currentCaptureUsage,
          " / ",
          n.monthlyCapture
        ] }),
        /* @__PURE__ */ t.jsx(L, { label: "", progress: 1 - n.currentCaptureUsage / n.monthlyCapture })
      ] }),
      /* @__PURE__ */ t.jsxs(v, { children: [
        /* @__PURE__ */ t.jsxs(g, { children: [
          "Subscription type: ",
          n?.subscriptionKind
        ] }),
        /* @__PURE__ */ t.jsx("div", {}),
        "To upgrade or change your subscription plan please contact your administrator"
      ] })
    ] })
  ] });
}
const I = l.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 560px;
`, g = l.div`
  font-weight: 700;
`, j = l.div`
  font-weight: 400;
  font-size: 90%;
`, w = l.div`
  font-weight: 600;
  font-size: 110%;
  > div {
    font-size: 80%;
  }
`, v = l.div`
  display: grid;
  grid-template-columns: 7fr 3fr;
  gap: 4px;
  padding-top: 8px;
  border-top: 1px solid var(${a.border});
  > ${g} {
    grid-column: 1;
    grid-row: 1;
  }
  > ${j} {
    grid-column: 1;
    grid-row: 2;
  }
  > ${w} {
    grid-column: 2;
    grid-row: span 2;
    align-self: center;
    justify-self: end;
  }
  > :nth-child(4) {
    grid-column: span 2;
    grid-row: 3;
  }
`;
function it() {
  const e = f(), s = m((i) => i.config.data.internalUseDevEndpoints), n = m((i) => i.capture.token);
  return /* @__PURE__ */ t.jsxs(nt, { children: [
    /* @__PURE__ */ t.jsx("h1", { children: "Welcome to API Contract Generator" }),
    /* @__PURE__ */ t.jsx("p", { children: "Save time by reducing the manual creation of OpenAPI files; generate OpenAPI files automatically from Postman collections or HAR files, directly in your IDE. Saving you time and effort of manually creating OpenAPI files." }),
    /* @__PURE__ */ t.jsxs(
      ot,
      {
        onClick: (i) => {
          e(b({ id: void 0 })), i.stopPropagation(), i.preventDefault();
        },
        children: [
          /* @__PURE__ */ t.jsx(P, {}),
          "Add files"
        ]
      }
    ),
    /* @__PURE__ */ t.jsx("p", { children: /* @__PURE__ */ t.jsx(u, { children: "Get started now!" }) }),
    /* @__PURE__ */ t.jsxs("p", { children: [
      /* @__PURE__ */ t.jsx(u, { children: "Step 1" }),
      " - Click on ",
      /* @__PURE__ */ t.jsx(u, { children: "Add files" }),
      " to upload the Postman collection for your API and / or HAR files recording traffic to it"
    ] }),
    /* @__PURE__ */ t.jsxs("p", { children: [
      /* @__PURE__ */ t.jsx(u, { children: "Step 2" }),
      " - Click on ",
      /* @__PURE__ */ t.jsx(u, { children: "Generate" }),
      " to automatically generate your OpenAPI file."
    ] }),
    /* @__PURE__ */ t.jsxs("p", { children: [
      /* @__PURE__ */ t.jsx(u, { children: "Step 3" }),
      " - ",
      /* @__PURE__ */ t.jsx(u, { children: "Download" }),
      " your new OpenAPI file, or ",
      /* @__PURE__ */ t.jsx(u, { children: "open" }),
      " it in the IDE for further editing."
    ] }),
    n !== void 0 && /* @__PURE__ */ t.jsx(rt, { children: /* @__PURE__ */ t.jsx(st, { token: n, useDevEndpoints: s }) })
  ] });
}
const nt = l.div`
  max-width: 600px;
`, rt = l.div`
  margin-top: 2em;
  margin-bottom: 2em;
`, u = l.span`
  font-weight: 600;
`, ot = l.div`
  margin-top: 2em;
  margin-bottom: 2em;
  display: flex;
  padding: 0;
  gap: 4px;
  align-items: center;
  font-weight: 600;
  cursor: pointer;
  color: var(
    ${({ $disabled: e }) => e ? a.disabledForeground : a.linkForeground}
  );
  > svg {
    fill: var(
      ${({ $disabled: e }) => e ? a.disabledForeground : a.linkForeground}
    );
  }
`;
function at() {
  const e = f(), { items: s, selectedId: n } = m((o) => o.capture), i = ({ sectionId: o, itemId: d }) => e(Te(d)), r = [
    {
      id: "capture",
      title: "Capture",
      items: s.map((o) => ({
        id: o.id,
        label: lt(o),
        icon: dt(o.status),
        menu: /* @__PURE__ */ t.jsx(O, { children: /* @__PURE__ */ t.jsxs(
          T,
          {
            onClick: (d) => d.stopPropagation(),
            disabled: o.status === "running",
            onSelect: () => e(W({ id: o.id })),
            children: [
              /* @__PURE__ */ t.jsx(R, {}),
              "Delete"
            ]
          }
        ) })
      }))
    }
  ];
  return /* @__PURE__ */ t.jsx(
    Se,
    {
      selected: n ? { sectionId: "capture", itemId: n } : void 0,
      onSelected: i,
      noControls: !0,
      noSectionTitles: !0,
      hideEmptySidebar: !0,
      sections: r,
      render: () => /* @__PURE__ */ t.jsx(We, {}),
      renderEmpty: () => /* @__PURE__ */ t.jsx(it, {}),
      renderButtons: () => /* @__PURE__ */ t.jsx("div", { children: /* @__PURE__ */ t.jsxs(
        ct,
        {
          onClick: (o) => {
            e(b({ id: void 0 })), o.stopPropagation(), o.preventDefault();
          },
          children: [
            /* @__PURE__ */ t.jsx(P, {}),
            "New API contract"
          ]
        }
      ) })
    }
  );
}
function lt(e) {
  if (!e.files || e.files.length === 0)
    return "No files";
  const s = e.files[0];
  return e.files.length > 1 ? `${D(s)}+(${e.files.length - 1})` : D(s);
}
function D(e) {
  return decodeURIComponent(e.substring(e.lastIndexOf("/") + 1));
}
function dt(e) {
  switch (e) {
    case "pending":
      return /* @__PURE__ */ t.jsx(ke, {});
    case "running":
      return /* @__PURE__ */ t.jsx(Le, { className: "spinning" });
    case "finished":
      return /* @__PURE__ */ t.jsx(ge, {});
    case "failed":
      return /* @__PURE__ */ t.jsx(Me, {});
  }
}
const ct = l.div`
  display: flex;
  padding: 0;
  gap: 4px;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(
    ${({ $disabled: e }) => e ? a.disabledForeground : a.linkForeground}
  );
  > svg {
    fill: var(
      ${({ $disabled: e }) => e ? a.disabledForeground : a.linkForeground}
    );
  }
`, B = [
  {
    id: "starting",
    title: "",
    navigation: !1,
    element: /* @__PURE__ */ t.jsx("div", {})
  },
  {
    id: "general-error",
    title: "An error has occurred",
    element: /* @__PURE__ */ t.jsx(me, {}),
    navigation: !1,
    when: E
  },
  {
    id: "main",
    title: "Main",
    element: /* @__PURE__ */ t.jsx("div", { children: "Main" }),
    children: [
      {
        id: "capture",
        title: "Capture",
        element: /* @__PURE__ */ t.jsx("div", { style: { position: "fixed", top: 0, left: 0, right: 0, bottom: 0 }, children: /* @__PURE__ */ t.jsx(at, {}) })
      }
    ]
  }
];
function pt(e, s) {
  const n = Ge(He(e, B), s);
  oe.createRoot(document.getElementById("root")).render(
    /* @__PURE__ */ t.jsx(ae.StrictMode, { children: /* @__PURE__ */ t.jsx(le, { store: n, children: /* @__PURE__ */ t.jsx(de.Provider, { value: B, children: /* @__PURE__ */ t.jsx(ce, {}) }) }) })
  ), window.addEventListener("message", pe(n, Ve));
}
window.renderWebView = pt;
