import { j as e, c as K, d as q, s as _, M as Q, i as X, p as Y, a as Z, x as ee, r as te, t as se, l as ie, u as ne, b as re, T as l, e as a, m as oe, B as $, g as ae, R as le, P as de, h as ce, a0 as pe, k as he } from "./TriangleExclamation.DrtDYmuA.js";
import { s as ge } from "./listener.SmuvmntO.js";
import { o as ue, c as me } from "./listener.Cd9yvFW1.js";
import { s as xe } from "./rtk-query-react.modern.Do0gBnMl.js";
import { l as fe, c as ve } from "./slice.Cj1iT2KW.js";
import { s as je, g as we, M as B, a as E, b as ye, G as be, S as Ce } from "./GeneralError.DD1N1rnF.js";
import { f as P, u as Se, g as Fe } from "./freemiumd-api.DyefyGjJ.js";
import { S as R } from "./TrashCan.C7YMAGUy.js";
import { a as Ie } from "./SearchSidebar.BkfGCTmV.js";
import { u as Pe } from "./index.esm.B9REA_Vl.js";
import { I as M } from "./Input.RWnDfcXi.js";
import { o as ke, s as L, F as Ae } from "./types.h_AaHWF9.js";
import { E as $e, B as Me } from "./Banner.xHM1dtia.js";
const Le = (t) => /* @__PURE__ */ e.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 512", width: "1em", height: "1em", ...t, children: /* @__PURE__ */ e.jsx("path", { d: "M18.8 232c8.2 0 15.1-6.2 16.5-14.3 5.7-33.3 18.8-64.1 37.5-90.7 4.7-6.7 4.3-16-1.5-21.8-6.7-6.7-17.8-6.2-23.3 1.5-22.5 31.4-38.2 68-44.6 107.7-1.6 9.4 5.9 17.6 15.4 17.6M127 72.8c26.5-18.7 57.3-31.8 90.6-37.6 8.2-1.3 14.4-8.2 14.4-16.4 0-9.5-8.2-17-17.5-15.4-39.8 6.4-76.4 22.1-107.8 44.6-7.7 5.5-8.2 16.6-1.5 23.3 5.8 5.8 15.1 6.3 21.8 1.5m153 420.4c0 9.5 8.2 17 17.5 15.4 39.7-6.5 76.4-22.1 107.7-44.6 7.7-5.5 8.2-16.6 1.5-23.3-5.8-5.8-15.1-6.3-21.8-1.5-26.5 18.7-57.3 31.8-90.6 37.6-8.1 1.4-14.3 8.2-14.3 16.5zM439.2 385c-4.7 6.7-4.3 16 1.5 21.8 6.7 6.7 17.8 6.2 23.3-1.5 22.5-31.4 38.2-68 44.6-107.7 1.5-9.4-5.9-17.5-15.4-17.5-8.2 0-15.1 6.2-16.5 14.3-5.7 33.3-18.8 64.1-37.6 90.6zm-334 55.7c-6.7 6.7-6.2 17.8 1.5 23.3 31.4 22.5 68 38.2 107.7 44.6 9.4 1.5 17.5-5.9 17.5-15.4 0-8.2-6.2-15.1-14.3-16.5-33.3-5.7-64.1-18.8-90.6-37.6-6.7-4.7-16-4.3-21.8 1.5zM48 405.3c5.5 7.7 16.6 8.2 23.3 1.5 5.8-5.8 6.3-15.1 1.5-21.8-18.7-26.6-31.8-57.4-37.5-90.7-1.4-8.1-8.3-14.3-16.5-14.3-9.5 0-17 8.2-15.4 17.5 6.4 39.8 22.1 76.4 44.6 107.8m358.8-334c6.7-6.7 6.2-17.8-1.5-23.3-31.4-22.5-68-38.2-107.7-44.6-9.4-1.6-17.6 5.9-17.6 15.4 0 8.2 6.2 15.1 14.3 16.5 33.3 5.7 64.1 18.8 90.7 37.5 6.7 4.7 16 4.3 21.8-1.5m32.4 55.7c18.7 26.5 31.8 57.3 37.6 90.6 1.4 8.1 8.2 14.3 16.5 14.3 9.5 0 17-8.2 15.4-17.5-6.5-39.7-22.1-76.4-44.6-107.7-5.5-7.7-16.6-8.2-23.3-1.5-5.8 5.8-6.3 15.1-1.5 21.8z" }) }), De = (t) => /* @__PURE__ */ e.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 512", width: "1em", height: "1em", ...t, children: /* @__PURE__ */ e.jsx("path", { d: "M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256 256-114.6 256-256S397.4 0 256 0m0 480C132.5 480 32 379.5 32 256S132.5 32 256 32s224 100.5 224 224-100.5 224-224 224m0-176c8.844 0 16-7.156 16-16V128c0-8.844-7.156-16-16-16s-16 7.2-16 16v160c0 8.8 7.2 16 16 16m0 40c-13.25 0-24 10.75-24 24s10.75 24 24 24 24-10.75 24-24-10.7-24-24-24" }) }), T = (t) => /* @__PURE__ */ e.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 512", width: "1em", height: "1em", ...t, children: /* @__PURE__ */ e.jsx("path", { d: "M207.4 20.4c2.4 8.5-2.6 17.3-11.2 19.7C101.5 66.2 32 153 32 256c0 123.7 100.3 224 224 224s224-100.3 224-224c0-103-69.5-189.8-164.3-215.9-8.5-2.4-13.5-11.2-11.2-19.7s11.2-13.5 19.7-11.2C432.5 39.1 512 138.2 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 138.2 79.5 39.1 187.7 9.2c8.5-2.4 17.3 2.6 19.7 11.2" }) }), Oe = (t) => /* @__PURE__ */ e.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 640 512", width: "1em", height: "1em", ...t, children: /* @__PURE__ */ e.jsx("path", { d: "M354.9 121.7c13.8 16 36.5 21.1 55.9 12.5 8.9-3.9 18.7-6.2 29.2-6.2 39.8 0 72 32.2 72 72q0 6-.9 11.7c-3.5 21.6 8.1 42.9 28.1 51.7C570.4 276.9 592 308 592 344c0 46.8-36.6 85.2-82.8 87.8-.6 0-1.3.1-1.9.2H144c-53 0-96-43-96-96 0-41.7 26.6-77.3 64-90.5 19.2-6.8 32-24.9 32-45.3v-.2c0-66.3 53.7-120 120-120 36.3 0 68.8 16.1 90.9 41.7M512 480v-.2c71.4-4.1 128-63.3 128-135.8 0-55.7-33.5-103.7-81.5-124.7 1-6.3 1.5-12.8 1.5-19.3 0-66.3-53.7-120-120-120-17.4 0-33.8 3.7-48.7 10.3C360.4 54.6 314.9 32 264 32c-92.8 0-168 75.2-168 168v.2C40.1 220 0 273.3 0 336c0 79.5 64.5 144 144 144h368M223 313l80 80c9.4 9.4 24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-39 39V184c0-13.3-10.7-24-24-24s-24 10.7-24 24v134.1l-39-39c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9z" }) }), Be = (t) => /* @__PURE__ */ e.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 384 512", width: "1em", height: "1em", ...t, children: /* @__PURE__ */ e.jsx("path", { d: "M320 480H64c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32h128v112c0 26.5 21.5 48 48 48h112v256c0 17.7-14.3 32-32 32m-80-320c-8.8 0-16-7.2-16-16V32.5c2.8.7 5.4 2.1 7.4 4.2l115.9 115.9c2.1 2.1 3.5 4.6 4.2 7.4zM64 0C28.7 0 0 28.7 0 64v384c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V163.9c0-12.7-5.1-24.9-14.1-33.9L254.1 14.1c-9-9-21.2-14.1-33.9-14.1zm91.3 299.3c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0l-48 48c-6.2 6.2-6.2 16.4 0 22.6l48 48c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L118.6 336zm144 25.4-48-48c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6l36.7 36.7-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l48-48c6.2-6.2 6.2-16.4 0-22.6" }) }), A = (t) => /* @__PURE__ */ e.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 512", width: "1em", height: "1em", ...t, children: /* @__PURE__ */ e.jsx("path", { d: "M448 464H192c-8.8 0-16-7.2-16-16v-80h-48v80c0 35.3 28.7 64 64 64h256c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3l-90.6-90.5C390.7 6.7 374.5 0 357.5 0H192c-35.3 0-64 28.7-64 64v192h48V64c0-8.8 7.2-16 16-16h160v80c0 17.7 14.3 32 32 32h80v288c0 8.8-7.2 16-16 16M297 215c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l39 39H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h278.1l-39 39c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l80-80c9.4-9.4 9.4-24.6 0-33.9l-80-80z" }) }), Ee = {
  items: [],
  selectedId: void 0,
  token: void 0
}, U = K({
  name: "capture",
  initialState: Ee,
  reducers: {
    showCaptureWindow: (t, s) => {
      t.items = s.payload.items, t.selectedId = s.payload.items.length > 0 ? s.payload.items[0].id : void 0;
    },
    setCaptureToken: (t, s) => {
      t.token = s.payload;
    },
    setSelectedItemId: (t, s) => {
      t.selectedId = s.payload;
    },
    selectFiles: (t, s) => {
    },
    convert: (t, s) => {
      const n = s.payload.id, i = t.items.filter((r) => r.id === n)[0];
      i.status = "running", i.log = [], i.downloadedFile = void 0;
    },
    saveCapture: (t, s) => {
      const n = t.items.findIndex((i) => i.id === s.payload.id);
      s.payload.files.sort(), n !== -1 ? t.items[n] = s.payload : (t.items.unshift(s.payload), t.selectedId = s.payload.id);
    },
    saveCaptureSettings: (t, s) => {
      const { id: n, settings: i } = s.payload, r = t.items.findIndex((o) => o.id === n);
      r !== -1 && (t.items[r].prepareOptions = i.prepareOptions);
    },
    downloadFile: (t, s) => {
    },
    deleteJob: (t, { payload: { id: s } }) => {
      t.items = t.items.filter((n) => n.id !== s), t.selectedId = t.items[0]?.id;
    },
    deleteFile: (t, s) => {
      const { id: n, file: i } = s.payload, r = t.items.find((o) => o.id === n);
      r && (r.files = r.files.filter((o) => o !== i));
    },
    openLink: (t, s) => {
    }
  }
}), {
  showCaptureWindow: z,
  selectFiles: C,
  saveCaptureSettings: H,
  convert: V,
  saveCapture: Re,
  downloadFile: G,
  deleteJob: W,
  deleteFile: J,
  openLink: b,
  setSelectedItemId: Te,
  setCaptureToken: Ue
} = U.actions, ze = U.reducer, N = q(), p = N.startListening;
function He(t, s) {
  const n = () => p({
    actionCreator: z,
    effect: async (r, o) => {
      o.dispatch(Q(["main", "capture"]));
    }
  }), i = {
    selectFiles: () => p({
      actionCreator: C,
      effect: async (r, o) => {
        t.postMessage({
          command: "selectFiles",
          payload: r.payload
        });
      }
    }),
    saveCaptureSettings: () => p({
      matcher: X(H, J),
      effect: async (r, o) => {
        const d = r.payload.id, g = o.getState().capture.items.find((c) => c.id === d);
        t.postMessage({
          command: "saveCaptureSettings",
          payload: {
            id: d,
            settings: {
              files: g.files,
              prepareOptions: g.prepareOptions
            }
          }
        });
      }
    }),
    convert: () => p({
      actionCreator: V,
      effect: async (r, o) => {
        t.postMessage({
          command: "convert",
          payload: r.payload
        });
      }
    }),
    downloadFile: () => p({
      actionCreator: G,
      effect: async (r, o) => {
        t.postMessage({
          command: "downloadFile",
          payload: r.payload
        });
      }
    }),
    deleteJob: () => p({
      actionCreator: W,
      effect: async (r, o) => {
        t.postMessage({
          command: "deleteJob",
          payload: r.payload
        });
      }
    }),
    openLink: () => p({
      actionCreator: b,
      effect: async (r, o) => {
        t.postMessage({
          command: "openLink",
          payload: r.payload
        });
      }
    }),
    sendHttpRequest: ue(p, t)
  };
  return ge(p, s), _({ ...i, onShowCaptureWindow: n }), N;
}
const Ve = {
  theme: se,
  capture: ze,
  router: te,
  confirmationDialog: ee,
  config: ve,
  client: me,
  generalError: we,
  [P.reducerPath]: P.reducer
}, Ge = {
  changeTheme: Y,
  showCaptureWindow: z,
  setCaptureToken: Ue,
  saveCapture: Re,
  loadConfig: fe,
  showHttpError: () => null,
  showHttpResponse: () => null,
  showGeneralError: je
}, We = (t, s) => {
  const n = Z({
    reducer: Ve,
    middleware: (i) => i().prepend(t.middleware).concat(ie, P.middleware),
    preloadedState: {
      theme: s
    }
  });
  return xe(n.dispatch), n;
}, f = () => ne(), x = re;
function k({ progress: t, label: s }) {
  const n = Math.ceil(t * 100), i = s !== void 0 ? s : `${n}%`;
  return /* @__PURE__ */ e.jsxs(Je, { children: [
    /* @__PURE__ */ e.jsx(Ne, { children: i }),
    /* @__PURE__ */ e.jsx(Ke, { $progress: t, children: i })
  ] });
}
const Je = a.div`
  position: relative;
  display: flex;
  height: 26px;
  background-color: var(${l.computedTwo});
  border: 1px solid var(${l.buttonBorder});
  border-radius: 6px;
  overflow: hidden;
`, Ne = a.div`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  background-color: var(${l.computedOne});
  color: var(${l.foreground});
  border-radius: 6px;
`, Ke = a.div`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(${l.buttonForeground});
  background-color: var(${l.buttonBackground});
  clip-path: inset(0 ${({ $progress: t }) => 100 - t * 100}% 0 0);
  transition: clip-path 0.3s linear;
`;
function qe() {
  const t = f(), { selectedId: s, items: n } = x((r) => r.capture), i = n.find((r) => r.id === s);
  return i ? /* @__PURE__ */ e.jsx(
    Ae,
    {
      wrapFormData: Qe,
      unwrapFormData: Xe,
      useFormMode: "onChange",
      data: i.prepareOptions,
      schema: lt,
      saveData: (r) => {
        t(
          H({
            id: i.id,
            settings: { files: i.files, prepareOptions: r }
          })
        );
      },
      children: /* @__PURE__ */ e.jsx(_e, { item: i })
    }
  ) : /* @__PURE__ */ e.jsx("div", { children: "No job selected" });
}
function _e({ item: t }) {
  const s = f(), {
    formState: { isValid: n }
  } = Pe();
  return /* @__PURE__ */ e.jsxs("div", { children: [
    /* @__PURE__ */ e.jsx(u, { children: "API Contract Generator" }),
    /* @__PURE__ */ e.jsxs("ul", { children: [
      /* @__PURE__ */ e.jsx("li", { children: "Add up to 10 files" }),
      /* @__PURE__ */ e.jsx("li", { children: "Max size of combined files is 250MB" }),
      /* @__PURE__ */ e.jsx("li", { children: "Supports Postman collections and HAR files" })
    ] }),
    /* @__PURE__ */ e.jsx(v, {}),
    /* @__PURE__ */ e.jsx(u, { children: "Selected files" }),
    /* @__PURE__ */ e.jsxs(et, { children: [
      t.files && /* @__PURE__ */ e.jsx("div", { children: t.files.map((i, r) => /* @__PURE__ */ e.jsxs(Ye, { children: [
        /* @__PURE__ */ e.jsx(Be, {}),
        " ",
        F(i),
        /* @__PURE__ */ e.jsx(B, { children: /* @__PURE__ */ e.jsxs(E, { onSelect: () => s(J({ id: t.id, file: i })), children: [
          /* @__PURE__ */ e.jsx(R, {}),
          "Delete"
        ] }) })
      ] }, `item-${t.id}-file-${r}`)) }),
      /* @__PURE__ */ e.jsxs(st, { children: [
        (t.status === "pending" || t.status === "failed") && /* @__PURE__ */ e.jsxs(
          S,
          {
            onClick: (i) => {
              s(C({ id: t.id })), i.stopPropagation(), i.preventDefault();
            },
            children: [
              /* @__PURE__ */ e.jsx(A, {}),
              "Add more files"
            ]
          }
        ),
        (t.status === "pending" || t.status === "failed") && t.files.length > 0 && /* @__PURE__ */ e.jsxs(
          S,
          {
            $disabled: !n,
            $primary: !0,
            onClick: (i) => {
              n && s(V({ id: t.id })), i.stopPropagation(), i.preventDefault();
            },
            children: [
              /* @__PURE__ */ e.jsx(ye, {}),
              "Generate"
            ]
          }
        )
      ] })
    ] }),
    /* @__PURE__ */ e.jsx(v, {}),
    /* @__PURE__ */ e.jsx(u, { children: "Options" }),
    /* @__PURE__ */ e.jsxs(Ze, { children: [
      /* @__PURE__ */ e.jsx(
        M,
        {
          label: "Base Path",
          name: "basePath",
          description: "The URL prefix for all API paths, relative to the host root"
        }
      ),
      /* @__PURE__ */ e.jsx(M, { label: "Servers", name: "servers", description: "A list of servers to use for the API" })
    ] }),
    Object.keys(t.uploadStatus).length > 0 && /* @__PURE__ */ e.jsxs(e.Fragment, { children: [
      /* @__PURE__ */ e.jsx(v, {}),
      /* @__PURE__ */ e.jsx(u, { children: "Progress" }),
      /* @__PURE__ */ e.jsxs(rt, { children: [
        /* @__PURE__ */ e.jsx(nt, { children: Object.entries(t.uploadStatus || {}).map(([i, r]) => /* @__PURE__ */ e.jsxs(tt, { children: [
          /* @__PURE__ */ e.jsx(k, { label: F(i), progress: r.percent }, i),
          t.status === "running" && /* @__PURE__ */ e.jsx(at, { children: /* @__PURE__ */ e.jsx(T, {}) })
        ] }, `file-${i}`)) }),
        t.status === "finished" && /* @__PURE__ */ e.jsxs(
          S,
          {
            $primary: !0,
            onClick: (i) => {
              s(G({ id: t.id })), i.stopPropagation(), i.preventDefault();
            },
            children: [
              /* @__PURE__ */ e.jsx(Oe, {}),
              "Save OpenAPI file"
            ]
          }
        ),
        t.downloadedFile && /* @__PURE__ */ e.jsxs("div", { children: [
          "OpenAPI file saved to",
          " ",
          /* @__PURE__ */ e.jsx(
            "a",
            {
              href: "#",
              onClick: (i) => {
                i.preventDefault(), i.stopPropagation(), s(b(t.downloadedFile || ""));
              },
              children: F(t.downloadedFile)
            }
          )
        ] })
      ] })
    ] }),
    t.log.length > 0 && /* @__PURE__ */ e.jsxs(e.Fragment, { children: [
      /* @__PURE__ */ e.jsx(v, {}),
      /* @__PURE__ */ e.jsx(u, { children: "Logs" }),
      /* @__PURE__ */ e.jsx(it, { children: t.log.map((i, r) => /* @__PURE__ */ e.jsx("div", { children: i }, r)) })
    ] })
  ] });
}
function Qe(t) {
  return { basePath: t.basePath, servers: t.servers.join(",") };
}
function Xe(t) {
  return { basePath: t.basePath, servers: t.servers.split(",") };
}
const S = a.div`
  display: flex;
  gap: 4px;
  align-items: center;
  cursor: pointer;
  font-weight: ${({ $primary: t }) => t ? "600" : "400"};
  color: var(
    ${({ $disabled: t }) => t ? l.disabledForeground : l.linkForeground}
  );
  > svg {
    fill: var(
      ${({ $disabled: t }) => t ? l.disabledForeground : l.linkForeground}
    );
  }
`, Ye = a.div`
  display: flex;
  padding: 0 8px;
  gap: 4px;
  align-items: center;
  > svg {
    fill: var(${l.foreground});
  }
  > span:last-child {
    visibility: hidden;
  }
  &:hover > span:last-child {
    visibility: visible;
  }
`, u = a.div`
  margin-top: 16px;
  margin-bottom: 16px;
  font-size: 13px;
  font-weight: 600;
  color: var(${l.foreground});
`, Ze = a.div`
  margin-top: 16px;
  margin-bottom: 16px;
  display: flex;
  flex-direction: column;
  max-width: 600px;
  gap: 16px;
`, et = a.div`
  display: flex;
  flex-direction: row;
  padding-bottom: 8px;
  align-items: start;
`, tt = a.div`
  display: flex;
  align-items: center;
  gap: 8px;
  > div:first-child {
    flex: 1;
    max-width: 600px;
  }
`, st = a.div`
  display: flex;
  flex-direction: row;
  gap: 16px;
`, it = a.div`
  font-family: monospace;
  display: flex;
  flex-direction: column;
  gap: 4px;
`, nt = a.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`, rt = a.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
`, v = a.hr`
  border: none;
  border-top: 1px solid var(${l.border});
`, ot = oe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`, at = a.div`
  display: flex;
  align-items: center;
  justify-content: center;
  > svg {
    animation: ${ot} 2s infinite linear;
    transition: width 0.2s linear;
  }
`, lt = ke({
  basePath: L().min(1).trim(),
  servers: L().min(1).refine(
    (t) => t.split(",").map((s) => s.trim()).filter((s) => s.length > 0).every((s) => s.startsWith("http://") || s.startsWith("https://")),
    {
      message: "Invalid format. Examples: 'https://foo.com, http://bar.org'"
    }
  )
});
function F(t) {
  return decodeURIComponent(t.substring(t.lastIndexOf("/") + 1));
}
function dt({
  token: t,
  useDevEndpoints: s
}) {
  const { data: n, error: i, isLoading: r } = Se(t.trim(), {
    refetchOnFocus: !0,
    pollingInterval: 6e5
    // refresh every 10 minutes
  }), o = f(), d = x((c) => c.config.data.platformAuthType), { upgradeUrl: g } = Fe(s);
  return i ? /* @__PURE__ */ e.jsx(I, { children: /* @__PURE__ */ e.jsxs($e, { message: "Failed to load subscription status", children: [
    i.code,
    " ",
    i.message
  ] }) }) : r || n === void 0 ? /* @__PURE__ */ e.jsx(I, { children: /* @__PURE__ */ e.jsx(Me, { message: "Loading..." }) }) : /* @__PURE__ */ e.jsxs(I, { children: [
    d === "anond-token" && /* @__PURE__ */ e.jsxs(e.Fragment, { children: [
      /* @__PURE__ */ e.jsxs(j, { children: [
        /* @__PURE__ */ e.jsx(m, { children: "API Contract Generator" }),
        /* @__PURE__ */ e.jsx(w, { children: "Monthly operations left" }),
        /* @__PURE__ */ e.jsxs(y, { children: [
          n.monthlyCapture - n.currentCaptureUsage,
          " / ",
          n.monthlyCapture
        ] }),
        /* @__PURE__ */ e.jsx(k, { label: "", progress: 1 - n.currentCaptureUsage / n.monthlyCapture })
      ] }),
      /* @__PURE__ */ e.jsxs(j, { children: [
        /* @__PURE__ */ e.jsxs(m, { children: [
          "Subscription type: ",
          n?.subscriptionKind
        ] }),
        /* @__PURE__ */ e.jsx(w, { children: "Upgrade or manage your subscription plan" }),
        /* @__PURE__ */ e.jsxs(y, { children: [
          n.subscriptionKind === "free" && /* @__PURE__ */ e.jsx(
            $,
            {
              onClick: (c) => {
                c.preventDefault(), c.stopPropagation(), o(b(`${g}?email=${encodeURIComponent(n.userEmail)}`));
              },
              children: "Upgrade"
            }
          ),
          n.subscriptionKind !== "free" && /* @__PURE__ */ e.jsx(
            $,
            {
              onClick: (c) => {
                c.preventDefault(), c.stopPropagation(), o(
                  b(
                    `${g}?prefilled_email=${encodeURIComponent(n.userEmail)}`
                  )
                );
              },
              children: "Manage"
            }
          )
        ] })
      ] })
    ] }),
    d === "api-token" && /* @__PURE__ */ e.jsxs(e.Fragment, { children: [
      /* @__PURE__ */ e.jsxs(j, { children: [
        /* @__PURE__ */ e.jsx(m, { children: "Tenant Allowance" }),
        /* @__PURE__ */ e.jsx(w, { children: "Monthly operations left" }),
        /* @__PURE__ */ e.jsxs(y, { children: [
          n.monthlyCapture - n.currentCaptureUsage,
          " / ",
          n.monthlyCapture
        ] }),
        /* @__PURE__ */ e.jsx(k, { label: "", progress: 1 - n.currentCaptureUsage / n.monthlyCapture })
      ] }),
      /* @__PURE__ */ e.jsxs(j, { children: [
        /* @__PURE__ */ e.jsxs(m, { children: [
          "Subscription type: ",
          n?.subscriptionKind
        ] }),
        /* @__PURE__ */ e.jsx("div", {}),
        "To upgrade or change your subscription plan please contact your administrator"
      ] })
    ] })
  ] });
}
const I = a.div`
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: 560px;
`, m = a.div`
  font-weight: 700;
`, w = a.div`
  font-weight: 400;
  font-size: 90%;
`, y = a.div`
  font-weight: 600;
  font-size: 110%;
  > div {
    font-size: 80%;
  }
`, j = a.div`
  display: grid;
  grid-template-columns: 7fr 3fr;
  gap: 4px;
  padding-top: 8px;
  border-top: 1px solid var(${l.border});
  > ${m} {
    grid-column: 1;
    grid-row: 1;
  }
  > ${w} {
    grid-column: 1;
    grid-row: 2;
  }
  > ${y} {
    grid-column: 2;
    grid-row: span 2;
    align-self: center;
    justify-self: end;
  }
  > :nth-child(4) {
    grid-column: span 2;
    grid-row: 3;
  }
`;
function ct() {
  const t = f(), s = x((i) => i.config.data.internalUseDevEndpoints), n = x((i) => i.capture.token);
  return /* @__PURE__ */ e.jsxs(pt, { children: [
    /* @__PURE__ */ e.jsx("h1", { children: "Welcome to API Contract Generator" }),
    /* @__PURE__ */ e.jsx("p", { children: "Save time by reducing the manual creation of OpenAPI files; generate OpenAPI files automatically from Postman collections or HAR files, directly in your IDE. Saving you time and effort of manually creating OpenAPI files." }),
    /* @__PURE__ */ e.jsxs(
      gt,
      {
        onClick: (i) => {
          t(C({ id: void 0 })), i.stopPropagation(), i.preventDefault();
        },
        children: [
          /* @__PURE__ */ e.jsx(A, {}),
          "Select Postman/HAR files"
        ]
      }
    ),
    /* @__PURE__ */ e.jsx("p", { children: /* @__PURE__ */ e.jsx(h, { children: "Get started now!" }) }),
    /* @__PURE__ */ e.jsxs("p", { children: [
      /* @__PURE__ */ e.jsx(h, { children: "Step 1" }),
      " - Click on ",
      /* @__PURE__ */ e.jsx(h, { children: "Add files" }),
      " to upload the Postman collection for your API and / or HAR files recording traffic to it"
    ] }),
    /* @__PURE__ */ e.jsxs("p", { children: [
      /* @__PURE__ */ e.jsx(h, { children: "Step 2" }),
      " - Click on ",
      /* @__PURE__ */ e.jsx(h, { children: "Generate" }),
      " to automatically generate your OpenAPI file."
    ] }),
    /* @__PURE__ */ e.jsxs("p", { children: [
      /* @__PURE__ */ e.jsx(h, { children: "Step 3" }),
      " - ",
      /* @__PURE__ */ e.jsx(h, { children: "Download" }),
      " your new OpenAPI file, or ",
      /* @__PURE__ */ e.jsx(h, { children: "open" }),
      " it in the IDE for further editing."
    ] }),
    n !== void 0 && /* @__PURE__ */ e.jsx(ht, { children: /* @__PURE__ */ e.jsx(dt, { token: n, useDevEndpoints: s }) }),
    /* @__PURE__ */ e.jsx(be, {})
  ] });
}
const pt = a.div`
  max-width: 600px;
`, ht = a.div`
  margin-top: 2em;
  margin-bottom: 2em;
`, h = a.span`
  font-weight: 600;
`, gt = a.div`
  margin-top: 2em;
  margin-bottom: 2em;
  display: flex;
  padding: 0;
  gap: 4px;
  align-items: center;
  font-weight: 600;
  font-size: 16px;
  cursor: pointer;
  color: var(
    ${({ $disabled: t }) => t ? l.disabledForeground : l.linkForeground}
  );
  > svg {
    fill: var(
      ${({ $disabled: t }) => t ? l.disabledForeground : l.linkForeground}
    );
  }
`;
function ut() {
  const t = f(), { items: s, selectedId: n } = x((o) => o.capture), i = ({ sectionId: o, itemId: d }) => t(Te(d)), r = [
    {
      id: "capture",
      title: "Capture",
      items: s.map((o) => ({
        id: o.id,
        label: mt(o),
        icon: xt(o.status),
        menu: /* @__PURE__ */ e.jsx(B, { children: /* @__PURE__ */ e.jsxs(
          E,
          {
            onClick: (d) => d.stopPropagation(),
            disabled: o.status === "running",
            onSelect: () => t(W({ id: o.id })),
            children: [
              /* @__PURE__ */ e.jsx(R, {}),
              "Delete"
            ]
          }
        ) })
      }))
    }
  ];
  return /* @__PURE__ */ e.jsx(
    Ie,
    {
      selected: n ? { sectionId: "capture", itemId: n } : void 0,
      onSelected: i,
      noControls: !0,
      noSectionTitles: !0,
      hideEmptySidebar: !0,
      sections: r,
      render: () => /* @__PURE__ */ e.jsx(qe, {}),
      renderEmpty: () => /* @__PURE__ */ e.jsx(ct, {}),
      renderButtons: () => /* @__PURE__ */ e.jsx("div", { children: /* @__PURE__ */ e.jsxs(
        ft,
        {
          onClick: (o) => {
            t(C({ id: void 0 })), o.stopPropagation(), o.preventDefault();
          },
          children: [
            /* @__PURE__ */ e.jsx(A, {}),
            "New API contract"
          ]
        }
      ) })
    }
  );
}
function mt(t) {
  if (!t.files || t.files.length === 0)
    return "No files";
  const s = t.files[0];
  return t.files.length > 1 ? `${D(s)}+(${t.files.length - 1})` : D(s);
}
function D(t) {
  return decodeURIComponent(t.substring(t.lastIndexOf("/") + 1));
}
function xt(t) {
  switch (t) {
    case "pending":
      return /* @__PURE__ */ e.jsx(Le, {});
    case "running":
      return /* @__PURE__ */ e.jsx(T, { className: "spinning" });
    case "finished":
      return /* @__PURE__ */ e.jsx(Ce, {});
    case "failed":
      return /* @__PURE__ */ e.jsx(De, {});
  }
}
const ft = a.div`
  display: flex;
  padding: 0;
  gap: 4px;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(
    ${({ $disabled: t }) => t ? l.disabledForeground : l.linkForeground}
  );
  > svg {
    fill: var(
      ${({ $disabled: t }) => t ? l.disabledForeground : l.linkForeground}
    );
  }
`, O = [
  {
    id: "starting",
    title: "",
    navigation: !1,
    element: /* @__PURE__ */ e.jsx("div", {})
  },
  {
    id: "main",
    title: "Main",
    element: /* @__PURE__ */ e.jsx("div", { children: "Main" }),
    children: [
      {
        id: "capture",
        title: "Capture",
        element: /* @__PURE__ */ e.jsx("div", { style: { position: "fixed", top: 0, left: 0, right: 0, bottom: 0 }, children: /* @__PURE__ */ e.jsx(ut, {}) })
      }
    ]
  }
];
function vt(t, s) {
  const n = We(He(t, O), s);
  ae.createRoot(document.getElementById("root")).render(
    /* @__PURE__ */ e.jsx(le.StrictMode, { children: /* @__PURE__ */ e.jsx(de, { store: n, children: /* @__PURE__ */ e.jsx(ce.Provider, { value: O, children: /* @__PURE__ */ e.jsx(pe, {}) }) }) })
  ), window.addEventListener("message", he(n, Ge));
}
window.renderWebView = vt;
