<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy"  content="default-src 'none';  img-src ${cspSource} https: data:; script-src ${cspSource} 'unsafe-inline'; style-src ${cspSource}  'unsafe-inline'; connect-src http: https:">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<style>${style}</style>
		<style>
		  :root {
			--xliic-foreground: var(--xliic-foreground-custom, var(--vscode-editor-foreground));
			--xliic-background: var(--xliic-background-custom, var(--vscode-editor-background));
		  }
      	</style>
	</head>
	<body>
		<div id="root"></div>
		<script>
			window.initWebJS = function(kdb) {
				window.dispatchMessage = function(message) {
					switch (message.command) {
						case 'showFullReport':
							window.postMessage({ command: "showFullReport", report: message.report });
							break;
						case 'showPartialReport':
							window.postMessage({ command: "showPartialReport", report: message.report, uri: message.uri, ids: message.ids });
							break;
						case 'showNoReport':
							window.postMessage({ command: "showNoReport" });
							break;
						case 'changeTheme':
							window.postMessage({ command: "changeTheme", payload: message.payload });
							break;
					}
				};
				const host = { postMessage: (message) => window.__EclipseJTools.postMessage(JSON.stringify(message)) };
				window.renderAuditReport(host, kdb, { theme: {} });
			};
		</script>
	</body>
</html>
